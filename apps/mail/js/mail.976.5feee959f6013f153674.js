"use strict";(self.webpackChunknextcloud_mail=self.webpackChunknextcloud_mail||[]).push([[976],{11436:(t,n,e)=>{e.d(n,{A:()=>r});var o=e(71354),a=e.n(o),i=e(76314),l=e.n(i)()(a());l.push([t.id,"\n.container{\n display: flex;\n justify-content: center;\n}\n","",{version:3,sources:["webpack://./src/views/Setup.vue"],names:[],mappings:";AA2EA;CACA,aAAA;CACA,uBAAA;AACA",sourcesContent:["\x3c!--\n  - SPDX-FileCopyrightText: 2018 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n--\x3e\n<template>\n\t<NcContent app-name=\"mail\">\n\t\t<Navigation v-if=\"hasAccounts\" />\n\t\t<AppContent class=\"container\">\n\t\t\t<div v-if=\"allowNewMailAccounts\">\n\t\t\t\t<EmptyContent :name=\"t('mail', 'Connect your mail account')\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<IconMail />\n\t\t\t\t\t</template>\n\t\t\t\t</EmptyContent>\n\t\t\t\t<AccountForm :display-name=\"displayName\"\n\t\t\t\t\t:email=\"email\"\n\t\t\t\t\t:error.sync=\"error\"\n\t\t\t\t\t@account-created=\"onAccountCreated\" />\n\t\t\t</div>\n\t\t\t<EmptyContent v-else :name=\"t('mail', 'To add a mail account, please contact your administrator.')\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<IconMail />\n\t\t\t\t</template>\n\t\t\t</EmptyContent>\n\t\t</AppContent>\n\t</NcContent>\n</template>\n\n<script>\nimport { NcContent, NcAppContent as AppContent, NcEmptyContent as EmptyContent } from '@nextcloud/vue'\nimport { loadState } from '@nextcloud/initial-state'\n\nimport AccountForm from '../components/AccountForm.vue'\nimport IconMail from 'vue-material-design-icons/Email.vue'\nimport Navigation from '../components/Navigation.vue'\nimport logger from '../logger.js'\nimport { mapStores } from 'pinia'\nimport useMainStore from '../store/mainStore.js'\n\nexport default {\n\tname: 'Setup',\n\tcomponents: {\n\t\tAppContent,\n\t\tAccountForm,\n\t\tNcContent,\n\t\tEmptyContent,\n\t\tIconMail,\n\t\tNavigation,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tdisplayName: loadState('mail', 'prefill_displayName'),\n\t\t\temail: loadState('mail', 'prefill_email'),\n\t\t\tallowNewMailAccounts: loadState('mail', 'allow-new-accounts', true),\n\t\t\terror: null,\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapStores(useMainStore),\n\t\thasAccounts() {\n\t\t\treturn this.mainStore.getAccounts.length > 1\n\t\t},\n\t},\n\tmethods: {\n\t\tonAccountCreated() {\n\t\t\tlogger.info('account successfully created, redirecting …')\n\t\t\tthis.$router.push({\n\t\t\t\tname: 'home',\n\t\t\t})\n\t\t},\n\t},\n}\n<\/script>\n\n<style>\n.container{\n display: flex;\n justify-content: center;\n}\n</style>\n"],sourceRoot:""}]);const r=l},42976:(t,n,e)=>{e.r(n),e.d(n,{default:()=>b});var o=e(4658),a=e(81222),i=e(51432);const l={name:"EmailIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var r=e(14486);const c=(0,r.A)(l,(function(){var t=this,n=t._self._c;return n("span",t._b({staticClass:"material-design-icon email-icon",attrs:{"aria-hidden":t.title?null:"true","aria-label":t.title,role:"img"},on:{click:function(n){return t.$emit("click",n)}}},"span",t.$attrs,!1),[n("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M20,8L12,13L4,8V6L12,11L20,6M20,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V6C22,4.89 21.1,4 20,4Z"}},[t.title?n("title",[t._v(t._s(t.title))]):t._e()])])])}),[],!1,null,null,null).exports;var s=e(61069),m=e(85745),u=e(51849),p=e(49519);const d={name:"Setup",components:{AppContent:o.ir,AccountForm:i.A,NcContent:o.bw,EmptyContent:o.yI,IconMail:c,Navigation:s.A},data:()=>({displayName:(0,a.C)("mail","prefill_displayName"),email:(0,a.C)("mail","prefill_email"),allowNewMailAccounts:(0,a.C)("mail","allow-new-accounts",!0),error:null}),computed:{...(0,u.n2)(p.A),hasAccounts(){return this.mainStore.getAccounts.length>1}},methods:{onAccountCreated(){m.A.info("account successfully created, redirecting …"),this.$router.push({name:"home"})}}};var A=e(85072),C=e.n(A),f=e(97825),y=e.n(f),v=e(77659),g=e.n(v),h=e(55056),N=e.n(h),S=e(10540),_=e.n(S),w=e(41113),x=e.n(w),M=e(11436),E={};E.styleTagTransform=x(),E.setAttributes=N(),E.insert=g().bind(null,"head"),E.domAPI=y(),E.insertStyleElement=_(),C()(M.A,E),M.A&&M.A.locals&&M.A.locals;const b=(0,r.A)(d,(function(){var t=this,n=t._self._c;return n("NcContent",{attrs:{"app-name":"mail"}},[t.hasAccounts?n("Navigation"):t._e(),t._v(" "),n("AppContent",{staticClass:"container"},[t.allowNewMailAccounts?n("div",[n("EmptyContent",{attrs:{name:t.t("mail","Connect your mail account")},scopedSlots:t._u([{key:"icon",fn:function(){return[n("IconMail")]},proxy:!0}],null,!1,434230561)}),t._v(" "),n("AccountForm",{attrs:{"display-name":t.displayName,email:t.email,error:t.error},on:{"update:error":function(n){t.error=n},"account-created":t.onAccountCreated}})],1):n("EmptyContent",{attrs:{name:t.t("mail","To add a mail account, please contact your administrator.")},scopedSlots:t._u([{key:"icon",fn:function(){return[n("IconMail")]},proxy:!0}])})],1)],1)}),[],!1,null,null,null).exports}}]);
//# sourceMappingURL=mail.976.5feee959f6013f153674.js.map